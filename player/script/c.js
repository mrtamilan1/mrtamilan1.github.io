function Animator(d){this.setOptions(d);var c=this;this.timerDelegate=function(){c.onTimerEvent()},this.subjects=[],this.subjectScopes=[],this.target=0,this.state=0,this.lastTime=null}function NumericalStyleSubject(e,i,g,h,j){this.els=Animator.makeArray(e),this.property="opacity"==i&&window.ActiveXObject?"filter":Animator.camelize(i),this.from=parseFloat(g),this.to=parseFloat(h),this.units=null!=j?j:"px"}function ColorStyleSubject(e,h,f,g){this.els=Animator.makeArray(e),this.property=Animator.camelize(h),this.to=this.expandColor(g),this.from=this.expandColor(f),this.origFrom=f,this.origTo=g}function DiscreteStyleSubject(e,i,g,h,j){this.els=Animator.makeArray(e),this.property=Animator.camelize(i),this.from=g,this.to=h,this.threshold=j||0.5}function CSSStyleSubject(e,t,a){if(e=Animator.makeArray(e),this.subjects=[],0!=e.length){var m,r,c;if(a){c=this.parseStyle(t,e[0]),r=this.parseStyle(a,e[0])}else{r=this.parseStyle(t,e[0]),c={};for(m in r){c[m]=CSSStyleSubject.getStyle(e[0],m)}}var m;for(m in c){c[m]==r[m]&&(delete c[m],delete r[m])}var m,l,p,h,u,s;for(m in c){var o=String(c[m]),n=String(r[m]);if(null!=r[m]){if(u=ColorStyleSubject.parseColor(o)){s=ColorStyleSubject.parseColor(n),h=ColorStyleSubject}else{if(o.match(CSSStyleSubject.numericalRe)&&n.match(CSSStyleSubject.numericalRe)){u=parseFloat(o),s=parseFloat(n),h=NumericalStyleSubject,p=CSSStyleSubject.numericalRe.exec(o);var i=CSSStyleSubject.numericalRe.exec(n);l=null!=p[1]?p[1]:null!=i[1]?i[1]:i}else{if(!o.match(CSSStyleSubject.discreteRe)||!n.match(CSSStyleSubject.discreteRe)){window.DEBUG&&alert("Unrecognised format for value of "+m+": '"+c[m]+"'");continue}u=o,s=n,h=DiscreteStyleSubject,l=0}}this.subjects[this.subjects.length]=new h(e,m,u,s,l)}else{window.DEBUG&&alert("No to style provided for '"+m+'"')}}}}function AnimatorChain(d,f){this.animators=d,this.setOptions(f);for(var e=0;e<this.animators.length;e++){this.listenTo(this.animators[e])}this.forwards=!1,this.current=0}function Accordion(e){this.setOptions(e);var i,n=this.options.initialSection;this.options.rememberance&&(i=document.location.hash.substring(1)),this.rememberanceTexts=[],this.ans=[];for(var s=this,t=0;t<this.options.sections.length;t++){var a=this.options.sections[t],r=new Animator(this.options.animatorOptions),h=this.options.from+this.options.shift*t,o=this.options.to+this.options.shift*t;r.addSubject(new NumericalStyleSubject(a,this.options.property,h,o,this.options.units)),r.jumpTo(0);var l=this.options.getActivator(a);l.index=t,l.onclick=function(){s.show(this.index)},this.ans[this.ans.length]=r,this.rememberanceTexts[t]=l.innerHTML.replace(/\s/g,""),this.rememberanceTexts[t]===i&&(n=t)}this.show(n)}Animator.prototype={setOptions:function(b){this.options=Animator.applyDefaults({interval:20,duration:400,onComplete:function(){},onStep:function(){},transition:Animator.tx.easeInOut},b)},seekTo:function(b){this.seekFromTo(this.state,b)},seekFromTo:function(d,c){this.target=Math.max(0,Math.min(1,c)),this.state=Math.max(0,Math.min(1,d)),this.lastTime=(new Date).getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.options.interval))},jumpTo:function(b){this.target=this.state=Math.max(0,Math.min(1,b)),this.propagate()},toggle:function(){this.seekTo(1-this.target)},addSubject:function(d,c){return this.subjects[this.subjects.length]=d,this.subjectScopes[this.subjectScopes.length]=c,this},clearSubjects:function(){this.subjects=[],this.subjectScopes=[]},propagate:function(){for(var d=this.options.transition(this.state),c=0;c<this.subjects.length;c++){this.subjects[c].setState?this.subjects[c].setState(d):this.subjects[c].apply(this.subjectScopes[c],[d])}},onTimerEvent:function(){var d=(new Date).getTime(),f=d-this.lastTime;this.lastTime=d;var e=f/this.options.duration*(this.state<this.target?1:-1);Math.abs(e)>=Math.abs(this.state-this.target)?this.state=this.target:this.state+=e;try{this.propagate()}finally{this.options.onStep.call(this),this.target==this.state&&(window.clearInterval(this.intervalId),this.intervalId=null,this.options.onComplete.call(this))}},play:function(){this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},inspect:function(){for(var d="#<Animator:\n",c=0;c<this.subjects.length;c++){d+=this.subjects[c].inspect()}return d+=">"}},Animator.applyDefaults=function(e,h){h=h||{};var f,g={};for(f in e){g[f]=void 0!==h[f]?h[f]:e[f]}return g},Animator.makeArray=function(d){if(null==d){return[]}if(!d.length){return[d]}for(var f=[],e=0;e<d.length;e++){f[e]=d[e]}return f},Animator.camelize=function(e){var j=e.split("-");if(1==j.length){return j[0]}for(var h=0==e.indexOf("-")?j[0].charAt(0).toUpperCase()+j[0].substring(1):j[0],i=1,k=j.length;k>i;i++){var l=j[i];h+=l.charAt(0).toUpperCase()+l.substring(1)}return h},Animator.apply=function(d,f,e){return f instanceof Array?new Animator(e).addSubject(new CSSStyleSubject(d,f[0],f[1])):new Animator(e).addSubject(new CSSStyleSubject(d,f))},Animator.makeEaseIn=function(b){return function(a){return Math.pow(a,2*b)}},Animator.makeEaseOut=function(b){return function(a){return 1-Math.pow(1-a,2*b)}},Animator.makeElastic=function(b){return function(a){return a=Animator.tx.easeInOut(a),(1-Math.cos(a*Math.PI*b))*(1-a)+a}},Animator.makeADSR=function(e,h,f,g){return null==g&&(g=0.5),function(a){return e>a?a/e:h>a?1-(a-e)/(h-e)*(1-g):f>a?g:g*(1-(a-f)/(1-f))}},Animator.makeBounce=function(d){var c=Animator.makeElastic(d);return function(a){return a=c(a),1>=a?a:2-a}},Animator.tx={easeInOut:function(b){return -Math.cos(b*Math.PI)/2+0.5},linear:function(b){return b},easeIn:Animator.makeEaseIn(1.5),easeOut:Animator.makeEaseOut(1.5),strongEaseIn:Animator.makeEaseIn(2.5),strongEaseOut:Animator.makeEaseOut(2.5),elastic:Animator.makeElastic(1),veryElastic:Animator.makeElastic(3),bouncy:Animator.makeBounce(1),veryBouncy:Animator.makeBounce(3)},NumericalStyleSubject.prototype={setState:function(e){for(var i=this.getStyle(e),g=("opacity"==this.property&&0==e?"hidden":"",0),h=0;h<this.els.length;h++){try{this.els[h].style[this.property]=i}catch(j){if("fontWeight"!=this.property){throw j}}if(g++>20){return}}},getStyle:function(b){return b=this.from+(this.to-this.from)*b,"filter"==this.property?"alpha(opacity="+Math.round(100*b)+")":"opacity"==this.property?b:Math.round(b)+this.units},inspect:function(){return"	"+this.property+"("+this.from+this.units+" to "+this.to+this.units+")\n"}},ColorStyleSubject.prototype={expandColor:function(e){var i,g,h,j;return(i=ColorStyleSubject.parseColor(e))?(g=parseInt(i.slice(1,3),16),h=parseInt(i.slice(3,5),16),j=parseInt(i.slice(5,7),16),[g,h,j]):(window.DEBUG&&alert("Invalid colour: '"+e+"'"),void 0)},getValueForState:function(d,c){return Math.round(this.from[d]+(this.to[d]-this.from[d])*c)},setState:function(d){for(var f="#"+ColorStyleSubject.toColorPart(this.getValueForState(0,d))+ColorStyleSubject.toColorPart(this.getValueForState(1,d))+ColorStyleSubject.toColorPart(this.getValueForState(2,d)),e=0;e<this.els.length;e++){this.els[e].style[this.property]=f}},inspect:function(){return"	"+this.property+"("+this.origFrom+" to "+this.origTo+")\n"}},ColorStyleSubject.parseColor=function(e){var i,g="#";if(i=ColorStyleSubject.parseColor.rgbRe.exec(e)){for(var h,j=1;3>=j;j++){h=Math.max(0,Math.min(255,parseInt(i[j]))),g+=ColorStyleSubject.toColorPart(h)}return g}if(i=ColorStyleSubject.parseColor.hexRe.exec(e)){if(3==i[1].length){for(var j=0;3>j;j++){g+=i[1].charAt(j)+i[1].charAt(j)}return g}return"#"+i[1]}return !1},ColorStyleSubject.toColorPart=function(d){d>255&&(d=255);var c=d.toString(16);return 16>d?"0"+c:c},ColorStyleSubject.parseColor.rgbRe=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,ColorStyleSubject.parseColor.hexRe=/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,DiscreteStyleSubject.prototype={setState:function(d){for(var c=0;c<this.els.length;c++){this.els[c].style[this.property]=d<=this.threshold?this.from:this.to}},inspect:function(){return"	"+this.property+"("+this.from+" to "+this.to+" @ "+this.threshold+")\n"}},CSSStyleSubject.prototype={parseStyle:function(e,l){var n={};if(-1!=e.indexOf(":")){for(var q=e.split(";"),r=0;r<q.length;r++){var a=CSSStyleSubject.ruleRe.exec(q[r]);a&&(n[a[1]]=a[2])}}else{var p,i,o;o=l.className,l.className=e;for(var r=0;r<CSSStyleSubject.cssProperties.length;r++){p=CSSStyleSubject.cssProperties[r],i=CSSStyleSubject.getStyle(l,p),null!=i&&(n[p]=i)}l.className=o}return n},setState:function(d){for(var c=0;c<this.subjects.length;c++){this.subjects[c].setState(d)}},inspect:function(){for(var d="",c=0;c<this.subjects.length;c++){d+=this.subjects[c].inspect()}return d}},CSSStyleSubject.getStyle=function(d,f){var e;return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(d,"").getPropertyValue(f))?e:(f=Animator.camelize(f),d.currentStyle&&(e=d.currentStyle[f]),e||d.style[f])},CSSStyleSubject.ruleRe=/^\s*([a-zA-Z\-]+)\s*:\s*(\S(.+\S)?)\s*$/,CSSStyleSubject.numericalRe=/^-?\d+(?:\.\d+)?(%|[a-zA-Z]{2})?$/,CSSStyleSubject.discreteRe=/^\w+$/,CSSStyleSubject.cssProperties=["azimuth","background","background-attachment","background-color","background-image","background-position","background-repeat","border-collapse","border-color","border-spacing","border-style","border-top","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width","border-width","bottom","clear","clip","color","content","cursor","direction","display","elevation","empty-cells","css-float","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","height","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-top","margin-right","margin-bottom","margin-left","max-height","max-width","min-height","min-width","orphans","outline","outline-color","outline-style","outline-width","overflow","padding","padding-top","padding-right","padding-bottom","padding-left","pause","position","right","size","table-layout","text-align","text-decoration","text-indent","text-shadow","text-transform","top","vertical-align","visibility","white-space","width","word-spacing","z-index","opacity","outline-offset","overflow-x","overflow-y"],AnimatorChain.prototype={setOptions:function(b){this.options=Animator.applyDefaults({resetOnPlay:!0},b)},play:function(){if(this.forwards=!0,this.current=-1,this.options.resetOnPlay){for(var b=0;b<this.animators.length;b++){this.animators[b].jumpTo(0)}}this.advance()},reverse:function(){if(this.forwards=!1,this.current=this.animators.length,this.options.resetOnPlay){for(var b=0;b<this.animators.length;b++){this.animators[b].jumpTo(1)}}this.advance()},toggle:function(){this.forwards?this.seekTo(0):this.seekTo(1)},listenTo:function(d){var f=d.options.onComplete,e=this;d.options.onComplete=function(){f&&f.call(d),e.advance()}},advance:function(){if(this.forwards){if(null==this.animators[this.current+1]){return}this.current++,this.animators[this.current].play()}else{if(null==this.animators[this.current-1]){return}this.current--,this.animators[this.current].reverse()}},seekTo:function(b){0>=b?(this.forwards=!1,this.animators[this.current].seekTo(0)):(this.forwards=!0,this.animators[this.current].seekTo(1))}},Accordion.prototype={setOptions:function(b){this.options=Object.extend({sections:null,getActivator:function(a){return document.getElementById(a.getAttribute("activator"))},shift:0,initialSection:0,rememberance:!0,animatorOptions:{}},b||{})},show:function(d){for(var c=0;c<this.ans.length;c++){this.ans[c].seekTo(c>d?1:0)}this.options.rememberance&&(document.location.hash=this.rememberanceTexts[d])}};(function(g,e){function f(bt,d){function bu(i){return bO.preferFlash&&X&&!bO.ignoreFlash&&bO.flash[i]!==e&&bO.flash[i]}function S(i){return function(k){var j=this._s;return !j||!j._a?null:i.call(this,k)}}this.setupOptions={url:bt||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1000,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs\x3d"mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs\x3d"mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs\x3dvorbis"],required:!1},opus:{type:["audio/ogg; codecs\x3dopus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs\x3d"1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=d||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20131201";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var bN,bO=this,au=null,bT=null,bv,U=navigator.userAgent,Q=g.location.href.toString(),bW=document,ba,aw,u,bU,Z=[],b1=!1,b3=!1,R=!1,ab=!1,L=!1,b4,Y,bP,bw,av,I,M,N,bm,b,ay,bx,n,bz,D,O,bM,b5,at,q,P,C,bj,bL,t,ar,b6=null,bl=null,bn,B,bY,y,a,T,bp=!1,bd=!1,bh,s,bk,bV=0,bq=null,bb,A=[],br,W=null,by,l,bs,aq,bf,v,aa,V,bg=Array.prototype.slice,E=!1,bZ,X,bQ,be,F,w,p=0,b0=U.match(/(ipad|iphone|ipod)/i),bi=U.match(/android/i),G=U.match(/msie/i),x=U.match(/webkit/i),bR=U.match(/safari/i)&&!U.match(/chrome/i),ax=U.match(/opera/i),c=U.match(/(mobile|pre\/|xoom)/i)||b0||bi,H=!Q.match(/usehtml5audio/i)&&!Q.match(/sm2\-ignorebadua/i)&&bR&&!U.match(/silk/i)&&U.match(/OS X 10_6_([3-7])/i),a0=bW.hasFocus!==e?bW.hasFocus():null,az=bR&&(bW.hasFocus===e||!bW.hasFocus()),z=!az,bo=/(mp3|mp4|mpa|m4a|m4b)/i,r=bW.location?bW.location.protocol.match(/http/i):null,bX=!r?"http://":"",bc=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,m="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),b2=RegExp("\\.("+m.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!r;var K;try{K=Audio!==e&&(ax&&opera!==e&&10>opera.version()?new Audio(null):new Audio).canPlayType!==e}catch(bS){K=!1}this.hasHTML5=K;this.setup=function(j){var i=!bO.url;j!==e&&R&&W&&bO.ok();bP(j);j&&(i&&(b5&&j.url!==e)&&bO.beginDelayedInit(),!b5&&(j.url!==e&&"complete"===bW.readyState)&&setTimeout(O,1));return bO};this.supported=this.ok=function(){return W?R&&!ab:bO.useHTML5Audio&&bO.hasHTML5};this.getMovie=function(i){return bv(i)||bW[i]||g[i]};this.createSound=function(j,o){function k(){i=y(i);bO.sounds[i.id]=new bN(i);bO.soundIDs.push(i.id);return bO.sounds[i.id]}var i,J=null;if(!R||!bO.ok()){return !1}o!==e&&(j={id:j,url:o});i=Y(j);i.url=bb(i.url);void 0===i.id&&(i.id=bO.setupOptions.idPrefix+p++);if(T(i.id,!0)){return bO.sounds[i.id]}if(l(i)){J=k(),J._setup_html5(i)}else{if(bO.html5Only||bO.html5.usingFlash&&i.url&&i.url.match(/data\:/i)){return k()}8<bU&&null===i.isMovieStar&&(i.isMovieStar=!(!i.serverURL&&!(i.type&&i.type.match(bc)||i.url&&i.url.match(b2))));i=a(i,void 0);J=k();8===bU?bT._createSound(i.id,i.loops||1,i.usePolicyFile):(bT._createSound(i.id,i.url,i.usePeakData,i.useWaveformData,i.useEQData,i.isMovieStar,i.isMovieStar?i.bufferTime:!1,i.loops||1,i.serverURL,i.duration||null,i.autoPlay,!0,i.autoLoad,i.usePolicyFile),i.serverURL||(J.connected=!0,i.onconnect&&i.onconnect.apply(J)));!i.serverURL&&(i.autoLoad||i.autoPlay)&&J.load(i)}!i.serverURL&&i.autoPlay&&J.play();return J};this.destroySound=function(j,o){if(!T(j)){return !1}var k=bO.sounds[j],i;k._iO={};k.stop();k.unload();for(i=0;i<bO.soundIDs.length;i++){if(bO.soundIDs[i]===j){bO.soundIDs.splice(i,1);break}}o||k.destruct(!0);delete bO.sounds[j];return !0};this.load=function(j,i){return !T(j)?!1:bO.sounds[j].load(i)};this.unload=function(i){return !T(i)?!1:bO.sounds[i].unload()};this.onposition=this.onPosition=function(j,o,k,i){return !T(j)?!1:bO.sounds[j].onposition(o,k,i)};this.clearOnPosition=function(j,i,k){return !T(j)?!1:bO.sounds[j].clearOnPosition(i,k)};this.start=this.play=function(j,o){var k=null,i=o&&!(o instanceof Object);if(!R||!bO.ok()){return !1}if(T(j,i)){i&&(o={url:o})}else{if(!i){return !1}i&&(o={url:o});o&&o.url&&(o.id=j,k=bO.createSound(o).play())}null===k&&(k=bO.sounds[j].play(o));return k};this.setPosition=function(j,i){return !T(j)?!1:bO.sounds[j].setPosition(i)};this.stop=function(i){return !T(i)?!1:bO.sounds[i].stop()};this.stopAll=function(){for(var i in bO.sounds){bO.sounds.hasOwnProperty(i)&&bO.sounds[i].stop()}};this.pause=function(i){return !T(i)?!1:bO.sounds[i].pause()};this.pauseAll=function(){var i;for(i=bO.soundIDs.length-1;0<=i;i--){bO.sounds[bO.soundIDs[i]].pause()}};this.resume=function(i){return !T(i)?!1:bO.sounds[i].resume()};this.resumeAll=function(){var i;for(i=bO.soundIDs.length-1;0<=i;i--){bO.sounds[bO.soundIDs[i]].resume()}};this.togglePause=function(i){return !T(i)?!1:bO.sounds[i].togglePause()};this.setPan=function(j,i){return !T(j)?!1:bO.sounds[j].setPan(i)};this.setVolume=function(j,i){return !T(j)?!1:bO.sounds[j].setVolume(i)};this.mute=function(j){var i=0;j instanceof String&&(j=null);if(j){return !T(j)?!1:bO.sounds[j].mute()}for(i=bO.soundIDs.length-1;0<=i;i--){bO.sounds[bO.soundIDs[i]].mute()}return bO.muted=!0};this.muteAll=function(){bO.mute()};this.unmute=function(i){i instanceof String&&(i=null);if(i){return !T(i)?!1:bO.sounds[i].unmute()}for(i=bO.soundIDs.length-1;0<=i;i--){bO.sounds[bO.soundIDs[i]].unmute()}bO.muted=!1;return !0};this.unmuteAll=function(){bO.unmute()};this.toggleMute=function(i){return !T(i)?!1:bO.sounds[i].toggleMute()};this.getMemoryUse=function(){var i=0;bT&&8!==bU&&(i=parseInt(bT._getMemoryUse(),10));return i};this.disable=function(j){var i;j===e&&(j=!1);if(ab){return !1}ab=!0;for(i=bO.soundIDs.length-1;0<=i;i--){bL(bO.sounds[bO.soundIDs[i]])}b4(j);V.remove(g,"load",M);return !0};this.canPlayMIME=function(j){var i;bO.hasHTML5&&(i=bs({type:j}));!i&&W&&(i=j&&bO.ok()?!!(8<bU&&j.match(bc)||j.match(bO.mimePattern)):null);return i};this.canPlayURL=function(j){var i;bO.hasHTML5&&(i=bs({url:j}));!i&&W&&(i=j&&bO.ok()?!!j.match(bO.filePattern):null);return i};this.canPlayLink=function(i){return i.type!==e&&i.type&&bO.canPlayMIME(i.type)?!0:bO.canPlayURL(i.href)};this.getSoundById=function(j,i){return !j?null:bO.sounds[j]};this.onready=function(j,i){if("function"===typeof j){i||(i=g),av("onready",j,i),I()}else{throw bn("needFunction","onready")}return !0};this.ontimeout=function(j,i){if("function"===typeof j){i||(i=g),av("ontimeout",j,i),I({type:"ontimeout"})}else{throw bn("needFunction","ontimeout")}return !0};this._wD=this._writeDebug=function(j,i){return !0};this._debug=function(){};this.reboot=function(j,o){var k,i,J;for(k=bO.soundIDs.length-1;0<=k;k--){bO.sounds[bO.soundIDs[k]].destruct()}if(bT){try{G&&(bl=bT.innerHTML),b6=bT.parentNode.removeChild(bT)}catch(ac){}}bl=b6=W=bT=null;bO.enabled=b5=R=bp=bd=b1=b3=ab=E=bO.swfLoaded=!1;bO.soundIDs=[];bO.sounds={};p=0;if(j){Z=[]}else{for(k in Z){if(Z.hasOwnProperty(k)){i=0;for(J=Z[k].length;i<J;i++){Z[k][i].fired=!1}}}}bO.html5={usingFlash:null};bO.flash={};bO.html5Only=!1;bO.ignoreFlash=!1;g.setTimeout(function(){D();o||bO.beginDelayedInit()},20);return bO};this.reset=function(){return bO.reboot(!0,!0)};this.getMoviePercent=function(){return bT&&"PercentLoaded" in bT?bT.PercentLoaded():null};this.beginDelayedInit=function(){L=!0;O();setTimeout(function(){if(bd){return !1}q();bz();return bd=!0},20);N()};this.destruct=function(){bO.disable(!0)};bN=function(al){var o,k,ah=this,J,am,aj,ai,j,ad,ae=!1,ac=[],af=0,ak,an,ag=null,i;k=o=null;this.sID=this.id=al.id;this.url=al.url;this._iO=this.instanceOptions=this.options=Y(al);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;i=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(aB){var ap=null,ao;aB!==e?ah._iO=Y(aB,ah.options):(aB=ah.options,ah._iO=aB,ag&&ag!==ah.url&&(ah._iO.url=ah.url,ah.url=null));ah._iO.url||(ah._iO.url=ah.url);ah._iO.url=bb(ah._iO.url);ao=ah.instanceOptions=ah._iO;if(!ao.url&&!ah.url){return ah}if(ao.url===ah.url&&0!==ah.readyState&&2!==ah.readyState){return 3===ah.readyState&&ao.onload&&w(ah,function(){ao.onload.apply(ah,[!!ah.duration])}),ah}ah.loaded=!1;ah.readyState=1;ah.playState=0;ah.id3={};if(l(ao)){ap=ah._setup_html5(ao),ap._called_load||(ah._html5_canplay=!1,ah.url!==ao.url&&(ah._a.src=ao.url,ah.setPosition(0)),ah._a.autobuffer="auto",ah._a.preload="auto",ah._a._called_load=!0)}else{if(bO.html5Only||ah._iO.url&&ah._iO.url.match(/data\:/i)){return ah}try{ah.isHTML5=!1,ah._iO=a(y(ao)),ao=ah._iO,8===bU?bT._load(ah.id,ao.url,ao.stream,ao.autoPlay,ao.usePolicyFile):bT._load(ah.id,ao.url,!!ao.stream,!!ao.autoPlay,ao.loops||1,!!ao.autoLoad,ao.usePolicyFile)}catch(aA){P({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}ah.url=ao.url;return ah};this.unload=function(){0!==ah.readyState&&(ah.isHTML5?(ai(),ah._a&&(ah._a.pause(),ag=bf(ah._a))):8===bU?bT._unload(ah.id,"about:blank"):bT._unload(ah.id),J());return ah};this.destruct=function(ao){ah.isHTML5?(ai(),ah._a&&(ah._a.pause(),bf(ah._a),E||aj(),ah._a._s=null,ah._a=null)):(ah._iO.onfailure=null,bT._destroySound(ah.id));ao||bO.destroySound(ah.id,!0)};this.start=this.play=function(aE,ap){var ao,aA,aC,aB,aD;aA=!0;aA=null;ap=ap===e?!0:ap;aE||(aE={});ah.url&&(ah._iO.url=ah.url);ah._iO=Y(ah._iO,ah.options);ah._iO=Y(aE,ah._iO);ah._iO.url=bb(ah._iO.url);ah.instanceOptions=ah._iO;if(!ah.isHTML5&&ah._iO.serverURL&&!ah.connected){return ah.getAutoPlay()||ah.setAutoPlay(!0),ah}l(ah._iO)&&(ah._setup_html5(ah._iO),j());1===ah.playState&&!ah.paused&&(ao=ah._iO.multiShot,ao||(ah.isHTML5&&ah.setPosition(ah._iO.position),aA=ah));if(null!==aA){return aA}aE.url&&aE.url!==ah.url&&(!ah.readyState&&!ah.isHTML5&&8===bU&&i?i=!1:ah.load(ah._iO));ah.loaded||(0===ah.readyState?(!ah.isHTML5&&!bO.html5Only?(ah._iO.autoPlay=!0,ah.load(ah._iO)):ah.isHTML5?ah.load(ah._iO):aA=ah,ah.instanceOptions=ah._iO):2===ah.readyState&&(aA=ah));if(null!==aA){return aA}!ah.isHTML5&&(9===bU&&0<ah.position&&ah.position===ah.duration)&&(aE.position=0);if(ah.paused&&0<=ah.position&&(!ah._iO.serverURL||0<ah.position)){ah.resume()}else{ah._iO=Y(aE,ah._iO);if(null!==ah._iO.from&&null!==ah._iO.to&&0===ah.instanceCount&&0===ah.playState&&!ah._iO.serverURL){ao=function(){ah._iO=Y(aE,ah._iO);ah.play(ah._iO)};if(ah.isHTML5&&!ah._html5_canplay){ah.load({_oncanplay:ao}),aA=!1}else{if(!ah.isHTML5&&!ah.loaded&&(!ah.readyState||2!==ah.readyState)){ah.load({onload:ao}),aA=!1}}if(null!==aA){return aA}ah._iO=an()}(!ah.instanceCount||ah._iO.multiShotEvents||ah.isHTML5&&ah._iO.multiShot&&!E||!ah.isHTML5&&8<bU&&!ah.getAutoPlay())&&ah.instanceCount++;ah._iO.onposition&&0===ah.playState&&ad(ah);ah.playState=1;ah.paused=!1;ah.position=ah._iO.position!==e&&!isNaN(ah._iO.position)?ah._iO.position:0;ah.isHTML5||(ah._iO=a(y(ah._iO)));ah._iO.onplay&&ap&&(ah._iO.onplay.apply(ah),ae=!0);ah.setVolume(ah._iO.volume,!0);ah.setPan(ah._iO.pan,!0);ah.isHTML5?2>ah.instanceCount?(j(),aA=ah._setup_html5(),ah.setPosition(ah._iO.position),aA.play()):(aC=new Audio(ah._iO.url),aB=function(){V.remove(aC,"ended",aB);ah._onfinish(ah);bf(aC);aC=null},aD=function(){V.remove(aC,"canplay",aD);try{aC.currentTime=ah._iO.position/1000}catch(aF){}aC.play()},V.add(aC,"ended",aB),void 0!==ah._iO.volume&&(aC.volume=Math.max(0,Math.min(1,ah._iO.volume/100))),ah.muted&&(aC.muted=!0),ah._iO.position?V.add(aC,"canplay",aD):aC.play()):(aA=bT._start(ah.id,ah._iO.loops||1,9===bU?ah.position:ah.position/1000,ah._iO.multiShot||!1),9===bU&&!aA&&ah._iO.onplayerror&&ah._iO.onplayerror.apply(ah))}return ah};this.stop=function(ap){var ao=ah._iO;1===ah.playState&&(ah._onbufferchange(0),ah._resetOnPosition(0),ah.paused=!1,ah.isHTML5||(ah.playState=0),ak(),ao.to&&ah.clearOnPosition(ao.to),ah.isHTML5?ah._a&&(ap=ah.position,ah.setPosition(0),ah.position=ap,ah._a.pause(),ah.playState=0,ah._onTimer(),ai()):(bT._stop(ah.id,ap),ao.serverURL&&ah.unload()),ah.instanceCount=0,ah._iO={},ao.onstop&&ao.onstop.apply(ah));return ah};this.setAutoPlay=function(ao){ah._iO.autoPlay=ao;ah.isHTML5||(bT._setAutoPlay(ah.id,ao),ao&&!ah.instanceCount&&1===ah.readyState&&ah.instanceCount++)};this.getAutoPlay=function(){return ah._iO.autoPlay};this.setPosition=function(aA){aA===e&&(aA=0);var ao=ah.isHTML5?Math.max(aA,0):Math.min(ah.duration||ah._iO.duration,Math.max(aA,0));ah.position=ao;aA=ah.position/1000;ah._resetOnPosition(ah.position);ah._iO.position=ao;if(ah.isHTML5){if(ah._a){if(ah._html5_canplay){if(ah._a.currentTime!==aA){try{ah._a.currentTime=aA,(0===ah.playState||ah.paused)&&ah._a.pause()}catch(ap){}}}else{if(aA){return ah}}ah.paused&&ah._onTimer(!0)}}else{aA=9===bU?ah.position:aA,ah.readyState&&2!==ah.readyState&&bT._setPosition(ah.id,aA,ah.paused||!ah.playState,ah._iO.multiShot)}return ah};this.pause=function(ao){if(ah.paused||0===ah.playState&&1!==ah.readyState){return ah}ah.paused=!0;ah.isHTML5?(ah._setup_html5().pause(),ai()):(ao||ao===e)&&bT._pause(ah.id,ah._iO.multiShot);ah._iO.onpause&&ah._iO.onpause.apply(ah);return ah};this.resume=function(){var ao=ah._iO;if(!ah.paused){return ah}ah.paused=!1;ah.playState=1;ah.isHTML5?(ah._setup_html5().play(),j()):(ao.isMovieStar&&!ao.serverURL&&ah.setPosition(ah.position),bT._pause(ah.id,ao.multiShot));!ae&&ao.onplay?(ao.onplay.apply(ah),ae=!0):ao.onresume&&ao.onresume.apply(ah);return ah};this.togglePause=function(){if(0===ah.playState){return ah.play({position:9===bU&&!ah.isHTML5?ah.position:ah.position/1000}),ah}ah.paused?ah.resume():ah.pause();return ah};this.setPan=function(ap,ao){ap===e&&(ap=0);ao===e&&(ao=!1);ah.isHTML5||bT._setPan(ah.id,ap);ah._iO.pan=ap;ao||(ah.pan=ap,ah.options.pan=ap);return ah};this.setVolume=function(ap,ao){ap===e&&(ap=100);ao===e&&(ao=!1);ah.isHTML5?ah._a&&(bO.muted&&!ah.muted&&(ah.muted=!0,ah._a.muted=!0),ah._a.volume=Math.max(0,Math.min(1,ap/100))):bT._setVolume(ah.id,bO.muted&&!ah.muted||ah.muted?0:ap);ah._iO.volume=ap;ao||(ah.volume=ap,ah.options.volume=ap);return ah};this.mute=function(){ah.muted=!0;ah.isHTML5?ah._a&&(ah._a.muted=!0):bT._setVolume(ah.id,0);return ah};this.unmute=function(){ah.muted=!1;var ao=ah._iO.volume!==e;ah.isHTML5?ah._a&&(ah._a.muted=!1):bT._setVolume(ah.id,ao?ah._iO.volume:ah.options.volume);return ah};this.toggleMute=function(){return ah.muted?ah.unmute():ah.mute()};this.onposition=this.onPosition=function(aA,ao,ap){ac.push({position:parseInt(aA,10),method:ao,scope:ap!==e?ap:ah,fired:!1});return ah};this.clearOnPosition=function(ap,aA){var ao;ap=parseInt(ap,10);if(isNaN(ap)){return !1}for(ao=0;ao<ac.length;ao++){if(ap===ac[ao].position&&(!aA||aA===ac[ao].method)){ac[ao].fired&&af--,ac.splice(ao,1)}}};this._processOnPosition=function(){var ap,ao;ap=ac.length;if(!ap||!ah.playState||af>=ap){return !1}for(ap-=1;0<=ap;ap--){ao=ac[ap],!ao.fired&&ah.position>=ao.position&&(ao.fired=!0,af++,ao.method.apply(ao.scope,[ao.position]))}return !0};this._resetOnPosition=function(ap){var aA,ao;aA=ac.length;if(!aA){return !1}for(aA-=1;0<=aA;aA--){ao=ac[aA],ao.fired&&ap<=ao.position&&(ao.fired=!1,af--)}return !0};an=function(){var aC=ah._iO,ao=aC.from,aA=aC.to,ap,aB;aB=function(){ah.clearOnPosition(aA,aB);ah.stop()};ap=function(){if(null!==aA&&!isNaN(aA)){ah.onPosition(aA,aB)}};null!==ao&&!isNaN(ao)&&(aC.position=ao,aC.multiShot=!1,ap());return aC};ad=function(){var ap,ao=ah._iO.onposition;if(ao){for(ap in ao){if(ao.hasOwnProperty(ap)){ah.onPosition(parseInt(ap,10),ao[ap])}}}};ak=function(){var ap,ao=ah._iO.onposition;if(ao){for(ap in ao){ao.hasOwnProperty(ap)&&ah.clearOnPosition(parseInt(ap,10))}}};j=function(){ah.isHTML5&&bh(ah)};ai=function(){ah.isHTML5&&s(ah)};J=function(ao){ao||(ac=[],af=0);ae=!1;ah._hasTimer=null;ah._a=null;ah._html5_canplay=!1;ah.bytesLoaded=null;ah.bytesTotal=null;ah.duration=ah._iO&&ah._iO.duration?ah._iO.duration:null;ah.durationEstimate=null;ah.buffered=[];ah.eqData=[];ah.eqData.left=[];ah.eqData.right=[];ah.failures=0;ah.isBuffering=!1;ah.instanceOptions={};ah.instanceCount=0;ah.loaded=!1;ah.metadata={};ah.readyState=0;ah.muted=!1;ah.paused=!1;ah.peakData={left:0,right:0};ah.waveformData={left:[],right:[]};ah.playState=0;ah.position=null;ah.id3={}};J();this._onTimer=function(aB){var ao,ap=!1,aA={};if(ah._hasTimer||aB){if(ah._a&&(aB||(0<ah.playState||1===ah.readyState)&&!ah.paused)){ao=ah._get_html5_duration(),ao!==o&&(o=ao,ah.duration=ao,ap=!0),ah.durationEstimate=ah.duration,ao=1000*ah._a.currentTime||0,ao!==k&&(k=ao,ap=!0),(ap||aB)&&ah._whileplaying(ao,aA,aA,aA,aA)}return ap}};this._get_html5_duration=function(){var ao=ah._iO;return(ao=ah._a&&ah._a.duration?1000*ah._a.duration:ao&&ao.duration?ao.duration:null)&&!isNaN(ao)&&Infinity!==ao?ao:null};this._apply_loop=function(ao,ap){ao.loop=1<ap?"loop":""};this._setup_html5=function(aB){aB=Y(ah._iO,aB);var ao=E?au:ah._a,aA=decodeURI(aB.url),ap;E?aA===decodeURI(bZ)&&(ap=!0):aA===decodeURI(ag)&&(ap=!0);if(ao){if(ao._s){if(E){ao._s&&(ao._s.playState&&!ap)&&ao._s.stop()}else{if(!E&&aA===decodeURI(ag)){return ah._apply_loop(ao,aB.loops),ao}}}ap||(ag&&J(!1),ao.src=aB.url,bZ=ag=ah.url=aB.url,ao._called_load=!1)}else{aB.autoLoad||aB.autoPlay?(ah._a=new Audio(aB.url),ah._a.load()):ah._a=ax&&10>opera.version()?new Audio(null):new Audio,ao=ah._a,ao._called_load=!1,E&&(au=ao)}ah.isHTML5=!0;ah._a=ao;ao._s=ah;am();ah._apply_loop(ao,aB.loops);aB.autoLoad||aB.autoPlay?ah.load():(ao.autobuffer=!1,ao.preload="auto");return ao};am=function(){if(ah._a._added_events){return !1}var ao;ah._a._added_events=!0;for(ao in F){F.hasOwnProperty(ao)&&ah._a&&ah._a.addEventListener(ao,F[ao],!1)}return !0};aj=function(){var ao;ah._a._added_events=!1;for(ao in F){F.hasOwnProperty(ao)&&ah._a&&ah._a.removeEventListener(ao,F[ao],!1)}};this._onload=function(ap){var ao=!!ap||!ah.isHTML5&&8===bU&&ah.duration;ah.loaded=ao;ah.readyState=ao?3:2;ah._onbufferchange(0);ah._iO.onload&&w(ah,function(){ah._iO.onload.apply(ah,[ao])});return !0};this._onbufferchange=function(ao){if(0===ah.playState||ao&&ah.isBuffering||!ao&&!ah.isBuffering){return !1}ah.isBuffering=1===ao;ah._iO.onbufferchange&&ah._iO.onbufferchange.apply(ah);return !0};this._onsuspend=function(){ah._iO.onsuspend&&ah._iO.onsuspend.apply(ah);return !0};this._onfailure=function(aA,ao,ap){ah.failures++;if(ah._iO.onfailure&&1===ah.failures){ah._iO.onfailure(ah,aA,ao,ap)}};this._onfinish=function(){var ao=ah._iO.onfinish;ah._onbufferchange(0);ah._resetOnPosition(0);ah.instanceCount&&(ah.instanceCount--,ah.instanceCount||(ak(),ah.playState=0,ah.paused=!1,ah.instanceCount=0,ah.instanceOptions={},ah._iO={},ai(),ah.isHTML5&&(ah.position=0)),(!ah.instanceCount||ah._iO.multiShotEvents)&&ao&&w(ah,function(){ao.apply(ah)}))};this._whileloading=function(aC,ao,aA,ap){var aB=ah._iO;ah.bytesLoaded=aC;ah.bytesTotal=ao;ah.duration=Math.floor(aA);ah.bufferLength=ap;ah.durationEstimate=!ah.isHTML5&&!aB.isMovieStar?aB.duration?ah.duration>aB.duration?ah.duration:aB.duration:parseInt(ah.bytesTotal/ah.bytesLoaded*ah.duration,10):ah.duration;ah.isHTML5||(ah.buffered=[{start:0,end:ah.duration}]);(3!==ah.readyState||ah.isHTML5)&&aB.whileloading&&aB.whileloading.apply(ah)};this._whileplaying=function(aD,ao,aA,ap,aB){var aC=ah._iO;if(isNaN(aD)||null===aD){return !1}ah.position=Math.max(0,aD);ah._processOnPosition();!ah.isHTML5&&8<bU&&(aC.usePeakData&&(ao!==e&&ao)&&(ah.peakData={left:ao.leftPeak,right:ao.rightPeak}),aC.useWaveformData&&(aA!==e&&aA)&&(ah.waveformData={left:aA.split(","),right:ap.split(",")}),aC.useEQData&&(aB!==e&&aB&&aB.leftEQ)&&(aD=aB.leftEQ.split(","),ah.eqData=aD,ah.eqData.left=aD,aB.rightEQ!==e&&aB.rightEQ&&(ah.eqData.right=aB.rightEQ.split(","))));1===ah.playState&&(!ah.isHTML5&&(8===bU&&!ah.position&&ah.isBuffering)&&ah._onbufferchange(0),aC.whileplaying&&aC.whileplaying.apply(ah));return !0};this._oncaptiondata=function(ao){ah.captiondata=ao;ah._iO.oncaptiondata&&ah._iO.oncaptiondata.apply(ah,[ao])};this._onmetadata=function(aC,ao){var aA={},ap,aB;ap=0;for(aB=aC.length;ap<aB;ap++){aA[aC[ap]]=ao[ap]}ah.metadata=aA;ah._iO.onmetadata&&ah._iO.onmetadata.apply(ah)};this._onid3=function(aC,ao){var aA=[],ap,aB;ap=0;for(aB=aC.length;ap<aB;ap++){aA[aC[ap]]=ao[ap]}ah.id3=Y(ah.id3,aA);ah._iO.onid3&&ah._iO.onid3.apply(ah)};this._onconnect=function(ao){ao=1===ao;if(ah.connected=ao){ah.failures=0,T(ah.id)&&(ah.getAutoPlay()?ah.play(e,ah.getAutoPlay()):ah._iO.autoLoad&&ah.load()),ah._iO.onconnect&&ah._iO.onconnect.apply(ah,[ao])}};this._ondataerror=function(ao){0<ah.playState&&ah._iO.ondataerror&&ah._iO.ondataerror.apply(ah)}};at=function(){return bW.body||bW.getElementsByTagName("div")[0]};bv=function(i){return bW.getElementById(i)};Y=function(j,o){var k=j||{},i,J;i=o===e?bO.defaultOptions:o;for(J in i){i.hasOwnProperty(J)&&k[J]===e&&(k[J]="object"!==typeof i[J]||null===i[J]?i[J]:Y(k[J],i[J]))}return k};w=function(j,i){!j.isHTML5&&8===bU?g.setTimeout(i,0):i()};bw={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};bP=function(j,o){var k,i=!0,J=o!==e,ac=bO.setupOptions;for(k in j){if(j.hasOwnProperty(k)){if("object"!==typeof j[k]||null===j[k]||j[k] instanceof Array||j[k] instanceof RegExp){J&&bw[o]!==e?bO[o][k]=j[k]:ac[k]!==e?(bO.setupOptions[k]=j[k],bO[k]=j[k]):bw[k]===e?i=!1:bO[k] instanceof Function?bO[k].apply(bO,j[k] instanceof Array?j[k]:[j[k]]):bO[k]=j[k]}else{if(bw[k]===e){i=!1}else{return bP(j[k],k)}}}}return i};V=function(){function j(J){J=bg.call(J);var ac=J.length;o?(J[1]="on"+J[1],3<ac&&J.pop()):3===ac&&J.push(!1);return J}function k(ae,J){var ad=ae.shift(),ac=[i[J]];if(o){ad[ac](ae[0],ae[1])}else{ad[ac].apply(ad,ae)}}var o=g.attachEvent,i={add:o?"attachEvent":"addEventListener",remove:o?"detachEvent":"removeEventListener"};return{add:function(){k(j(arguments),"add")},remove:function(){k(j(arguments),"remove")}}}();F={abort:S(function(){}),canplay:S(function(){var j=this._s,k;if(j._html5_canplay){return !0}j._html5_canplay=!0;j._onbufferchange(0);k=j._iO.position!==e&&!isNaN(j._iO.position)?j._iO.position/1000:null;if(j.position&&this.currentTime!==k){try{this.currentTime=k}catch(i){}}j._iO._oncanplay&&j._iO._oncanplay()}),canplaythrough:S(function(){var i=this._s;i.loaded||(i._onbufferchange(0),i._whileloading(i.bytesLoaded,i.bytesTotal,i._get_html5_duration()),i._onload(!0))}),ended:S(function(){this._s._onfinish()}),error:S(function(){this._s._onload(!1)}),loadeddata:S(function(){var i=this._s;!i._loaded&&!bR&&(i.duration=i._get_html5_duration())}),loadedmetadata:S(function(){}),loadstart:S(function(){this._s._onbufferchange(1)}),play:S(function(){this._s._onbufferchange(0)}),playing:S(function(){this._s._onbufferchange(0)}),progress:S(function(j){var k=this._s,o,i,J=0,J=j.target.buffered;o=j.loaded||0;var ac=j.total||1;k.buffered=[];if(J&&J.length){o=0;for(i=J.length;o<i;o++){k.buffered.push({start:1000*J.start(o),end:1000*J.end(o)})}J=1000*(J.end(0)-J.start(0));o=Math.min(1,J/(1000*j.target.duration))}isNaN(o)||(k._onbufferchange(0),k._whileloading(o,ac,k._get_html5_duration()),o&&(ac&&o===ac)&&F.canplaythrough.call(this,j))}),ratechange:S(function(){}),suspend:S(function(j){var i=this._s;F.progress.call(this,j);i._onsuspend()}),stalled:S(function(){}),timeupdate:S(function(){this._s._onTimer()}),waiting:S(function(){this._s._onbufferchange(1)})};l=function(i){return !i||!i.type&&!i.url&&!i.serverURL?!1:i.serverURL||i.type&&bu(i.type)?!1:i.type?bs({type:i.type}):bs({url:i.url})||bO.html5Only||i.url.match(/data\:/i)};bf=function(j){var i;j&&(i=bR?"about:blank":bO.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w\x3d\x3d":"about:blank",j.src=i,void 0!==j._called_unload&&(j._called_load=!1));E&&(bZ=null);return i};bs=function(j){if(!bO.useHTML5Audio||!bO.hasHTML5){return !1}var o=j.url||null;j=j.type||null;var k=bO.audioFormats,i;if(j&&bO.html5[j]!==e){return bO.html5[j]&&!bu(j)}if(!aq){aq=[];for(i in k){k.hasOwnProperty(i)&&(aq.push(i),k[i].related&&(aq=aq.concat(k[i].related)))}aq=RegExp("\\.("+aq.join("|")+")(\\?.*)?$","i")}i=o?o.toLowerCase().match(aq):null;!i||!i.length?j&&(o=j.indexOf(";"),i=(-1!==o?j.substr(0,o):j).substr(6)):i=i[1];i&&bO.html5[i]!==e?o=bO.html5[i]&&!bu(i):(j="audio/"+i,o=bO.html5.canPlayType({type:j}),o=(bO.html5[i]=o)&&bO.html5[j]&&!bu(j));return o};aa=function(){function j(af){var ag,ae=ag=!1;if(!o||"function"!==typeof o.canPlayType){return ag}if(af instanceof Array){ac=0;for(ag=af.length;ac<ag;ac++){if(bO.html5[af[ac]]||o.canPlayType(af[ac]).match(bO.html5Test)){ae=!0,bO.html5[af[ac]]=!0,bO.flash[af[ac]]=!!af[ac].match(bo)}}ag=ae}else{af=o&&"function"===typeof o.canPlayType?o.canPlayType(af):!1,ag=!(!af||!af.match(bO.html5Test))}return ag}if(!bO.useHTML5Audio||!bO.hasHTML5){return W=bO.html5.usingFlash=!0,!1}var o=Audio!==e?ax&&10>opera.version()?new Audio(null):new Audio:null,k,i,J={},ad,ac;ad=bO.audioFormats;for(k in ad){if(ad.hasOwnProperty(k)&&(i="audio/"+k,J[k]=j(ad[k].type),J[i]=J[k],k.match(bo)?(bO.flash[k]=!0,bO.flash[i]=!0):(bO.flash[k]=!1,bO.flash[i]=!1),ad[k]&&ad[k].related)){for(ac=ad[k].related.length-1;0<=ac;ac--){J["audio/"+ad[k].related[ac]]=J[k],bO.html5[ad[k].related[ac]]=J[k],bO.flash[ad[k].related[ac]]=J[k]}}}J.canPlayType=o?j:null;bO.html5=Y(bO.html5,J);bO.html5.usingFlash=by();W=bO.html5.usingFlash;return !0};n={};bn=function(){};y=function(i){8===bU&&(1<i.loops&&i.stream)&&(i.stream=!1);return i};a=function(j,i){if(j&&!j.usePolicyFile&&(j.onid3||j.usePeakData||j.useWaveformData||j.useEQData)){j.usePolicyFile=!0}return j};ba=function(){return !1};bL=function(j){for(var i in j){j.hasOwnProperty(i)&&"function"===typeof j[i]&&(j[i]=ba)}};t=function(i){i===e&&(i=!1);(ab||i)&&bO.disable(i)};ar=function(j){var i=null;if(j){if(j.match(/\.swf(\?.*)?$/i)){if(i=j.substr(j.toLowerCase().lastIndexOf(".swf?")+4)){return j}}else{j.lastIndexOf("/")!==j.length-1&&(j+="/")}}j=(j&&-1!==j.lastIndexOf("/")?j.substr(0,j.lastIndexOf("/")+1):"./")+bO.movieURL;bO.noSWFCache&&(j+="?ts\x3d"+(new Date).getTime());return j};ay=function(){bU=parseInt(bO.flashVersion,10);8!==bU&&9!==bU&&(bO.flashVersion=bU=8);var i=bO.debugMode||bO.debugFlash?"_debug.swf":".swf";bO.useHTML5Audio&&(!bO.html5Only&&bO.audioFormats.mp4.required&&9>bU)&&(bO.flashVersion=bU=9);bO.version=bO.versionNumber+(bO.html5Only?" (HTML5-only mode)":9===bU?" (AS3/Flash 9)":" (AS2/Flash 8)");8<bU?(bO.defaultOptions=Y(bO.defaultOptions,bO.flash9Options),bO.features.buffering=!0,bO.defaultOptions=Y(bO.defaultOptions,bO.movieStarOptions),bO.filePatterns.flash9=RegExp("\\.(mp3|"+m.join("|")+")(\\?.*)?$","i"),bO.features.movieStar=!0):bO.features.movieStar=!1;bO.filePattern=bO.filePatterns[8!==bU?"flash9":"flash8"];bO.movieURL=(8===bU?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",i);bO.features.peakData=bO.features.waveformData=bO.features.eqData=8<bU};C=function(j,i){if(!bT){return !1}bT._setPolling(j,i)};bj=function(){};T=this.getSoundById;bY=function(){var i=[];bO.debugMode&&i.push("sm2_debug");bO.debugFlash&&i.push("flash_debug");bO.useHighPerformance&&i.push("high_performance");return i.join(" ")};B=function(){bn("fbHandler");var j=bO.getMoviePercent(),i={type:"FLASHBLOCK"};if(bO.html5Only){return !1}bO.ok()?bO.oMC&&(bO.oMC.className=[bY(),"movieContainer","swf_loaded"+(bO.didFlashBlock?" swf_unblocked":"")].join(" ")):(W&&(bO.oMC.className=bY()+" movieContainer "+(null===j?"swf_timedout":"swf_error")),bO.didFlashBlock=!0,I({type:"ontimeout",ignoreInit:!0,error:i}),P(i))};av=function(j,k,i){Z[j]===e&&(Z[j]=[]);Z[j].push({method:k,scope:i||null,fired:!1})};I=function(j){j||(j={type:bO.ok()?"onready":"ontimeout"});if(!R&&j&&!j.ignoreInit||"ontimeout"===j.type&&(bO.ok()||ab&&!j.ignoreInit)){return !1}var o={success:j&&j.ignoreInit?bO.ok():!ab},k=j&&j.type?Z[j.type]||[]:[],i=[],J,o=[o],ac=W&&!bO.ok();j.error&&(o[0].error=j.error);j=0;for(J=k.length;j<J;j++){!0!==k[j].fired&&i.push(k[j])}if(i.length){j=0;for(J=i.length;j<J;j++){i[j].scope?i[j].method.apply(i[j].scope,o):i[j].method.apply(this,o),ac||(i[j].fired=!0)}}return !0};M=function(){g.setTimeout(function(){bO.useFlashBlock&&B();I();"function"===typeof bO.onload&&bO.onload.apply(g);bO.waitForWindowLoad&&V.add(g,"load",M)},1)};bQ=function(){if(X!==e){return X}var j=!1,k=navigator,o=k.plugins,i,J=g.ActiveXObject;if(o&&o.length){(k=k.mimeTypes)&&(k["application/x-shockwave-flash"]&&k["application/x-shockwave-flash"].enabledPlugin&&k["application/x-shockwave-flash"].enabledPlugin.description)&&(j=!0)}else{if(J!==e&&!U.match(/MSAppHost/i)){try{i=new J("ShockwaveFlash.ShockwaveFlash")}catch(ac){i=null}j=!!i}}return X=j};by=function(){var j,i,k=bO.audioFormats;if(b0&&U.match(/os (1|2|3_0|3_1)/i)){bO.hasHTML5=!1,bO.html5Only=!0,bO.oMC&&(bO.oMC.style.display="none")}else{if(bO.useHTML5Audio&&(!bO.html5||!bO.html5.canPlayType)){bO.hasHTML5=!1}}if(bO.useHTML5Audio&&bO.hasHTML5){for(i in br=!0,k){if(k.hasOwnProperty(i)&&k[i].required){if(bO.html5.canPlayType(k[i].type)){if(bO.preferFlash&&(bO.flash[i]||bO.flash[k[i].type])){j=!0}}else{br=!1,j=!0}}}}bO.ignoreFlash&&(j=!1,br=!0);bO.html5Only=bO.hasHTML5&&bO.useHTML5Audio&&!j;return !bO.html5Only};bb=function(j){var o,k,i=0;if(j instanceof Array){o=0;for(k=j.length;o<k;o++){if(j[o] instanceof Object){if(bO.canPlayMIME(j[o].type)){i=o;break}}else{if(bO.canPlayURL(j[o])){i=o;break}}}j[i].url&&(j[i]=j[i].url);j=j[i]}return j};bh=function(i){i._hasTimer||(i._hasTimer=!0,!c&&bO.html5PollingInterval&&(null===bq&&0===bV&&(bq=setInterval(bk,bO.html5PollingInterval)),bV++))};s=function(i){i._hasTimer&&(i._hasTimer=!1,!c&&bO.html5PollingInterval&&bV--)};bk=function(){var i;if(null!==bq&&!bV){return clearInterval(bq),bq=null,!1}for(i=bO.soundIDs.length-1;0<=i;i--){bO.sounds[bO.soundIDs[i]].isHTML5&&bO.sounds[bO.soundIDs[i]]._hasTimer&&bO.sounds[bO.soundIDs[i]]._onTimer()}};P=function(i){i=i!==e?i:{};"function"===typeof bO.onerror&&bO.onerror.apply(g,[{type:i.type!==e?i.type:null}]);i.fatal!==e&&i.fatal&&bO.disable()};be=function(){if(!H||!bQ()){return !1}var j=bO.audioFormats,i,k;for(k in j){if(j.hasOwnProperty(k)&&("mp3"===k||"mp4"===k)){if(bO.html5[k]=!1,j[k]&&j[k].related){for(i=j[k].related.length-1;0<=i;i--){bO.html5[j[k].related[i]]=!1}}}}};this._setSandboxType=function(i){};this._externalInterfaceOK=function(i){if(bO.swfLoaded){return !1}bO.swfLoaded=!0;az=!1;H&&be();setTimeout(u,G?100:1)};q=function(j,J){function k(aj,ak){return'\x3cparam name\x3d"'+aj+'" value\x3d"'+ak+'" /\x3e'}if(b1&&b3){return !1}if(bO.html5Only){return ay(),bO.oMC=bv(bO.movieID),u(),b3=b1=!0,!1}var i=J||bO.url,ac=bO.altURL||i,ae=at(),ad=bY(),af=null,af=bW.getElementsByTagName("html")[0],ag,ah,ai,af=af&&af.dir&&af.dir.match(/rtl/i);j=j===e?bO.id:j;ay();bO.url=ar(r?i:ac);J=bO.url;bO.wmode=!bO.wmode&&bO.useHighPerformance?"transparent":bO.wmode;if(null!==bO.wmode&&(U.match(/msie 8/i)||!G&&!bO.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){A.push(n.spcWmode),bO.wmode=null}ae={name:j,id:j,src:J,quality:"high",allowScriptAccess:bO.allowScriptAccess,bgcolor:bO.bgColor,pluginspage:bX+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:bO.wmode,hasPriority:"true"};bO.debugFlash&&(ae.FlashVars="debug\x3d1");bO.wmode||delete ae.wmode;if(G){i=bW.createElement("div"),ah=['\x3cobject id\x3d"'+j+'" data\x3d"'+J+'" type\x3d"'+ae.type+'" title\x3d"'+ae.title+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase\x3d"'+bX+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d6,0,40,0"\x3e',k("movie",J),k("AllowScriptAccess",bO.allowScriptAccess),k("quality",ae.quality),bO.wmode?k("wmode",bO.wmode):"",k("bgcolor",bO.bgColor),k("hasPriority","true"),bO.debugFlash?k("FlashVars",ae.FlashVars):"","\x3c/object\x3e"].join("")}else{for(ag in i=bW.createElement("embed"),ae){ae.hasOwnProperty(ag)&&i.setAttribute(ag,ae[ag])}}bj();ad=bY();if(ae=at()){if(bO.oMC=bv(bO.movieID)||bW.createElement("div"),bO.oMC.id){ai=bO.oMC.className,bO.oMC.className=(ai?ai+" ":"movieContainer")+(ad?" "+ad:""),bO.oMC.appendChild(i),G&&(ag=bO.oMC.appendChild(bW.createElement("div")),ag.className="sm2-object-box",ag.innerHTML=ah),b3=!0}else{bO.oMC.id=bO.movieID;bO.oMC.className="movieContainer "+ad;ag=ad=null;bO.useFlashBlock||(bO.useHighPerformance?ad={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(ad={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},af&&(ad.left=Math.abs(parseInt(ad.left,10))+"px")));x&&(bO.oMC.style.zIndex=10000);if(!bO.debugFlash){for(ai in ad){ad.hasOwnProperty(ai)&&(bO.oMC.style[ai]=ad[ai])}}try{G||bO.oMC.appendChild(i),ae.appendChild(bO.oMC),G&&(ag=bO.oMC.appendChild(bW.createElement("div")),ag.className="sm2-object-box",ag.innerHTML=ah),b3=!0}catch(o){throw Error(bn("domError")+" \n"+o.toString())}}}return b1=!0};bz=function(){if(bO.html5Only){return q(),!1}if(bT||!bO.url){return !1}bT=bO.getMovie(bO.id);bT||(b6?(G?bO.oMC.innerHTML=bl:bO.oMC.appendChild(b6),b6=null,b1=!0):q(bO.id,bO.url),bT=bO.getMovie(bO.id));"function"===typeof bO.oninitmovie&&setTimeout(bO.oninitmovie,1);return !0};N=function(){setTimeout(bm,1000)};b=function(){g.setTimeout(function(){bO.setup({preferFlash:!1}).reboot();bO.didFlashBlock=!0;bO.beginDelayedInit()},1)};bm=function(){var j,i=!1;if(!bO.url||bp){return !1}bp=!0;V.remove(g,"load",N);if(X&&az&&!a0){return !1}R||(j=bO.getMoviePercent(),0<j&&100>j&&(i=!0));setTimeout(function(){j=bO.getMoviePercent();if(i){return bp=!1,g.setTimeout(N,1),!1}!R&&z&&(null===j?bO.useFlashBlock||0===bO.flashLoadTimeout?bO.useFlashBlock&&B():!bO.useFlashBlock&&br?b():I({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==bO.flashLoadTimeout&&(!bO.useFlashBlock&&br?b():t(!0)))},bO.flashLoadTimeout)};bx=function(){if(a0||!az){return V.remove(g,"focus",bx),!0}a0=z=!0;bp=!1;N();V.remove(g,"focus",bx);return !0};b4=function(j){if(R){return !1}if(bO.html5Only){return R=!0,M(),!0}var i=!0,k;if(!bO.useFlashBlock||!bO.flashLoadTimeout||bO.getMoviePercent()){R=!0}k={type:!X&&W?"NO_FLASH":"INIT_TIMEOUT"};if(ab||j){bO.useFlashBlock&&bO.oMC&&(bO.oMC.className=bY()+" "+(null===bO.getMoviePercent()?"swf_timedout":"swf_error")),I({type:"ontimeout",error:k,ignoreInit:!0}),P(k),i=!1}ab||(bO.waitForWindowLoad&&!L?V.add(g,"load",M):M());return i};aw=function(){var j,i=bO.setupOptions;for(j in i){i.hasOwnProperty(j)&&(bO[j]===e?bO[j]=i[j]:bO[j]!==i[j]&&(bO.setupOptions[j]=bO[j]))}};u=function(){if(R){return !1}if(bO.html5Only){return R||(V.remove(g,"load",bO.beginDelayedInit),bO.enabled=!0,b4()),!0}bz();try{bT._externalInterfaceTest(!1),C(!0,bO.flashPollingInterval||(bO.useHighPerformance?10:50)),bO.debugMode||bT._disableDebug(),bO.enabled=!0,bO.html5Only||V.add(g,"unload",ba)}catch(i){return P({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),t(!0),b4(),!1}b4();V.remove(g,"load",bO.beginDelayedInit);return !0};O=function(){if(b5){return !1}b5=!0;aw();bj();!X&&bO.hasHTML5&&bO.setup({useHTML5Audio:!0,preferFlash:!1});aa();!X&&W&&(A.push(n.needFlash),bO.setup({flashLoadTimeout:1}));bW.removeEventListener&&bW.removeEventListener("DOMContentLoaded",O,!1);bz();return !0};v=function(){"complete"===bW.readyState&&(O(),bW.detachEvent("onreadystatechange",v));return !0};bM=function(){L=!0;V.remove(g,"load",bM)};D=function(){if(c&&(bO.setupOptions.useHTML5Audio=!0,bO.setupOptions.preferFlash=!1,b0||bi&&!U.match(/android\s2\.3/i))){b0&&(bO.ignoreFlash=!0),E=!0}};D();bQ();V.add(g,"focus",bx);V.add(g,"load",N);V.add(g,"load",bM);bW.addEventListener?bW.addEventListener("DOMContentLoaded",O,!1):bW.attachEvent?bW.attachEvent("onreadystatechange",v):P({type:"NO_DOM2_EVENTS",fatal:!0})}var h=null;if(void 0===g.SM2_DEFER||!SM2_DEFER){h=new f}g.SoundManager=f;g.soundManager=h})(window);var threeSixtyPlayer,ThreeSixtyPlayer;!function(b){function c(){var v=this,k=this,g=soundManager,j=navigator.userAgent,w=j.match(/msie/i),f=j.match(/opera/i),m=j.match(/safari/i),a=j.match(/chrome/i),h=(j.match(/firefox/i),j.match(/ipad|iphone/i)),q="undefined"==typeof b.G_vmlCanvasManager&&"undefined"!=typeof document.createElement("canvas").getContext("2d"),p=f||a?359.9:360;this.excludeClass="threesixty-exclude",this.links=[],this.sounds=[],this.soundsByURL=[],this.indexByURL=[],this.lastSound=null,this.lastTouchedSound=null,this.soundCount=0,this.oUITemplate=null,this.oUIImageMap=null,this.vuMeter=null,this.callbackCount=0,this.peakDataHistory=[],this.config={playNext:!1,autoPlay:!1,allowMultiple:!1,loadRingColor:"#ccc",playRingColor:"#000",backgroundRingColor:"#eee",segmentRingColor:"rgba(255,255,255,0.33)",segmentRingColorAlt:"rgba(0,0,0,0.1)",loadRingColorMetadata:"#ddd",playRingColorMetadata:"rgba(128,192,256,0.9)",circleDiameter:null,circleRadius:null,animDuration:500,animTransition:b.Animator.tx.bouncy,showHMSTime:!1,scaleFont:!0,useWaveformData:!1,waveformDataColor:"#0099ff",waveformDataDownsample:3,waveformDataOutside:!1,waveformDataConstrain:!1,waveformDataLineRatio:0.64,useEQData:!1,eqDataColor:"#339933",eqDataDownsample:4,eqDataOutside:!0,eqDataLineRatio:0.54,usePeakData:!0,peakDataColor:"#ff33ff",peakDataOutside:!0,peakDataLineRatio:0.5,useAmplifier:!0,fontSizeMax:null,scaleArcWidth:1,useFavIcon:!1},this.css={sDefault:"sm2_link",sBuffering:"sm2_buffering",sPlaying:"sm2_playing",sPaused:"sm2_paused"},this.addEventHandler="undefined"!=typeof b.addEventListener?function(d,i,l){return d.addEventListener(i,l,!1)}:function(d,i,l){d.attachEvent("on"+i,l)},this.removeEventHandler="undefined"!=typeof b.removeEventListener?function(d,i,l){return d.removeEventListener(i,l,!1)}:function(d,i,l){return d.detachEvent("on"+i,l)},this.hasClass=function(d,e){return"undefined"!=typeof d.className?d.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")):!1},this.addClass=function(d,i){return d&&i&&!v.hasClass(d,i)?void (d.className=(d.className?d.className+" ":"")+i):!1},this.removeClass=function(d,i){return d&&i&&v.hasClass(d,i)?void (d.className=d.className.replace(new RegExp("( "+i+")|("+i+")","g"),"")):!1},this.getElementsByClassName=function(l,y,B){var t,u,A=B||document,z=[],x=[];if("undefined"!=typeof y&&"string"!=typeof y){for(t=y.length;t--;){x&&x[y[t]]||(x[y[t]]=A.getElementsByTagName(y[t]))}}else{x=y?A.getElementsByTagName(y):A.all||A.getElementsByTagName("*")}if("string"!=typeof y){for(t=y.length;t--;){for(u=x[y[t]].length;u--;){v.hasClass(x[y[t]][u],l)&&z.push(x[y[t]][u])}}}else{for(t=0;t<x.length;t++){v.hasClass(x[t],l)&&z.push(x[t])}}return z},this.getParentByNodeName=function(d,e){if(!d||!e){return !1}for(e=e.toLowerCase();d.parentNode&&e!==d.parentNode.nodeName.toLowerCase();){d=d.parentNode}return d.parentNode&&e===d.parentNode.nodeName.toLowerCase()?d.parentNode:null},this.getParentByClassName=function(d,i){if(!d||!i){return !1}for(;d.parentNode&&!v.hasClass(d.parentNode,i);){d=d.parentNode}return d.parentNode&&v.hasClass(d.parentNode,i)?d.parentNode:null},this.getSoundByURL=function(d){return"undefined"!=typeof v.soundsByURL[d]?v.soundsByURL[d]:null},this.isChildOfNode=function(d,e){if(!d||!d.parentNode){return !1}e=e.toLowerCase();do{d=d.parentNode}while(d&&d.parentNode&&d.nodeName.toLowerCase()!==e);return d&&d.nodeName.toLowerCase()===e?d:null},this.isChildOfClass=function(d,i){if(!d||!i){return !1}for(;d.parentNode&&!v.hasClass(d,i);){d=v.findParent(d)}return v.hasClass(d,i)},this.findParent=function(d){if(!d||!d.parentNode){return !1}if(d=d.parentNode,2===d.nodeType){for(;d&&d.parentNode&&2===d.parentNode.nodeType;){d=d.parentNode}}return d},this.getStyle=function(d,i){try{if(d.currentStyle){return d.currentStyle[i]}if(b.getComputedStyle){return document.defaultView.getComputedStyle(d,null).getPropertyValue(i)}}catch(l){}return null},this.findXY=function(d){var i=0,l=0;do{i+=d.offsetLeft,l+=d.offsetTop}while(d=d.offsetParent);return[i,l]},this.getMouseXY=function(d){return d=d?d:b.event,h&&d.touches&&(d=d.touches[0]),d.pageX||d.pageY?[d.pageX,d.pageY]:d.clientX||d.clientY?[d.clientX+v.getScrollLeft(),d.clientY+v.getScrollTop()]:void 0},this.getScrollLeft=function(){return document.body.scrollLeft+document.documentElement.scrollLeft},this.getScrollTop=function(){return document.body.scrollTop+document.documentElement.scrollTop},this.events={play:function(){k.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=k.css.sPlaying,k.addClass(this._360data.oUIBox,this._360data.className),v.fanOut(this)},stop:function(){k.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className="",v.fanIn(this)},pause:function(){k.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=k.css.sPaused,k.addClass(this._360data.oUIBox,this._360data.className)},resume:function(){k.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=k.css.sPlaying,k.addClass(this._360data.oUIBox,this._360data.className)},finish:function(){var d;k.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className="",this._360data.didFinish=!0,v.fanIn(this),k.config.playNext&&(d=k.indexByURL[this._360data.oLink.href]+1,d<k.links.length&&k.handleClick({target:k.links[d]}))},whileloading:function(){this.paused&&v.updatePlaying.apply(this)},whileplaying:function(){v.updatePlaying.apply(this),this._360data.fps++},bufferchange:function(){this.isBuffering?k.addClass(this._360data.oUIBox,k.css.sBuffering):k.removeClass(this._360data.oUIBox,k.css.sBuffering)}},this.stopEvent=function(d){return"undefined"!=typeof d&&"undefined"!=typeof d.preventDefault?d.preventDefault():"undefined"!=typeof b.event&&"undefined"!=typeof b.event.returnValue&&(b.event.returnValue=!1),!1},this.getTheDamnLink=w?function(d){return d&&d.target?d.target:b.event.srcElement}:function(d){return d.target},this.handleClick=function(z){if(z.button>1){return !0}var y,D,t,A,n,x,C,B=v.getTheDamnLink(z);return"a"===B.nodeName.toLowerCase()||(B=v.isChildOfNode(B,"a"))?v.isChildOfClass(B,"ui360")?(D=B.getAttribute("href"),B.href&&g.canPlayLink(B)&&!v.hasClass(B,v.excludeClass)?(g._writeDebug("handleClick()"),t=B.href,A=v.getSoundByURL(t),A?A===v.lastSound?A.togglePause():(A.togglePause(),g._writeDebug("sound different than last sound: "+v.lastSound.id),!v.config.allowMultiple&&v.lastSound&&v.stopSound(v.lastSound)):(n=B.parentNode,x=v.getElementsByClassName("ui360-vis","div",n.parentNode).length,A=g.createSound({id:"ui360Sound"+v.soundCount++,url:t,onplay:v.events.play,onstop:v.events.stop,onpause:v.events.pause,onresume:v.events.resume,onfinish:v.events.finish,onbufferchange:v.events.bufferchange,type:B.type||null,whileloading:v.events.whileloading,whileplaying:v.events.whileplaying,useWaveformData:x&&v.config.useWaveformData,useEQData:x&&v.config.useEQData,usePeakData:x&&v.config.usePeakData}),C=parseInt(v.getElementsByClassName("sm2-360ui","div",n)[0].offsetWidth,10),y=v.getElementsByClassName("sm2-canvas","canvas",n),A._360data={oUI360:v.getParentByClassName(B,"ui360"),oLink:B,className:v.css.sPlaying,oUIBox:v.getElementsByClassName("sm2-360ui","div",n)[0],oCanvas:y[y.length-1],oButton:v.getElementsByClassName("sm2-360btn","span",n)[0],oTiming:v.getElementsByClassName("sm2-timing","div",n)[0],oCover:v.getElementsByClassName("sm2-cover","div",n)[0],circleDiameter:C,circleRadius:C/2,lastTime:null,didFinish:null,pauseCount:0,radius:0,fontSize:1,fontSizeMax:v.config.fontSizeMax,scaleFont:x&&v.config.scaleFont,showHMSTime:x,amplifier:x&&v.config.usePeakData?0.9:1,radiusMax:0.175*C,width:0,widthMax:0.4*C,lastValues:{bytesLoaded:0,bytesTotal:0,position:0,durationEstimate:0},animating:!1,oAnim:new b.Animator({duration:v.config.animDuration,transition:v.config.animTransition,onComplete:function(){}}),oAnimProgress:function(d){var i=this;i._360data.radius=parseInt(i._360data.radiusMax*i._360data.amplifier*d,10),i._360data.width=parseInt(i._360data.widthMax*i._360data.amplifier*d,10),i._360data.scaleFont&&null!==i._360data.fontSizeMax&&(i._360data.oTiming.style.fontSize=parseInt(Math.max(1,i._360data.fontSizeMax*d),10)+"px",i._360data.oTiming.style.opacity=d),(i.paused||0===i.playState||0===i._360data.lastValues.bytesLoaded||0===i._360data.lastValues.position)&&v.updatePlaying.apply(i)},fps:0},"undefined"!=typeof v.Metadata&&v.getElementsByClassName("metadata","div",A._360data.oUI360).length&&(A._360data.metadata=new v.Metadata(A,v)),A._360data.scaleFont&&null!==A._360data.fontSizeMax&&(A._360data.oTiming.style.fontSize="1px"),A._360data.oAnim.addSubject(A._360data.oAnimProgress,A),v.refreshCoords(A),v.updatePlaying.apply(A),v.soundsByURL[t]=A,v.sounds.push(A),!v.config.allowMultiple&&v.lastSound&&v.stopSound(v.lastSound),A.play()),v.lastSound=A,"undefined"!=typeof z&&"undefined"!=typeof z.preventDefault?z.preventDefault():"undefined"!=typeof b.event&&(b.event.returnValue=!1),!1):!0):!0:!0},this.fanOut=function(d){var i=d;return 1===i._360data.animating?!1:(i._360data.animating=0,soundManager._writeDebug("fanOut: "+i.id+": "+i._360data.oLink.href),i._360data.oAnim.seekTo(1),void b.setTimeout(function(){i._360data.animating=0},v.config.animDuration+20))},this.fanIn=function(d){var i=d;return -1===i._360data.animating?!1:(i._360data.animating=-1,soundManager._writeDebug("fanIn: "+i.id+": "+i._360data.oLink.href),i._360data.oAnim.seekTo(0),void b.setTimeout(function(){i._360data.didFinish=!1,i._360data.animating=0,v.resetLastValues(i)},v.config.animDuration+20))},this.resetLastValues=function(d){d._360data.lastValues.position=0},this.refreshCoords=function(d){d._360data.canvasXY=v.findXY(d._360data.oCanvas),d._360data.canvasMid=[d._360data.circleRadius,d._360data.circleRadius],d._360data.canvasMidXY=[d._360data.canvasXY[0]+d._360data.canvasMid[0],d._360data.canvasXY[1]+d._360data.canvasMid[1]]},this.stopSound=function(d){soundManager._writeDebug("stopSound: "+d.id),soundManager.stop(d.id),h||soundManager.unload(d.id)},this.buttonClick=function(d){var i=d?d.target?d.target:d.srcElement:b.event.srcElement;return v.handleClick({target:v.getParentByClassName(i,"sm2-360ui").nextSibling}),!1},this.buttonMouseDown=function(d){return h?v.addEventHandler(document,"touchmove",v.mouseDown):document.onmousemove=function(e){v.mouseDown(e)},v.stopEvent(d),!1},this.mouseDown=function(r){if(!h&&r.button>1){return !0}if(!v.lastSound){return v.stopEvent(r),!1}var u,d,l,t=r?r:b.event;return h&&t.touches&&(t=t.touches[0]),u=t.target||t.srcElement,d=v.getSoundByURL(v.getElementsByClassName("sm2_link","a",v.getParentByClassName(u,"ui360"))[0].href),v.lastTouchedSound=d,v.refreshCoords(d),l=d._360data,v.addClass(l.oUIBox,"sm2_dragging"),l.pauseCount=v.lastTouchedSound.paused?1:0,v.mmh(r?r:b.event),h?(v.removeEventHandler(document,"touchmove",v.mouseDown),v.addEventHandler(document,"touchmove",v.mmh),v.addEventHandler(document,"touchend",v.mouseUp)):(document.onmousemove=v.mmh,document.onmouseup=v.mouseUp),v.stopEvent(r),!1},this.mouseUp=function(){var d=v.lastTouchedSound._360data;v.removeClass(d.oUIBox,"sm2_dragging"),0===d.pauseCount&&v.lastTouchedSound.resume(),h?(v.removeEventHandler(document,"touchmove",v.mmh),v.removeEventHandler(document,"touchend",v.mouseUP)):(document.onmousemove=null,document.onmouseup=null)},this.mmh=function(z){"undefined"==typeof z&&(z=b.event);var C=v.lastTouchedSound,u=v.getMouseXY(z),x=u[0],B=u[1],A=x-C._360data.canvasMidXY[0],y=B-C._360data.canvasMidXY[1],t=Math.floor(p-(v.rad2deg(Math.atan2(A,y))+180));return C.setPosition(C.durationEstimate*(t/p)),v.stopEvent(z),!1},this.drawSolidArc=function(D,B,o,y,F,d,x){var E,C,t,A,z=D;z.getContext&&(E=z.getContext("2d")),D=E,x||v.clearCanvas(z),B&&(E.fillStyle=B),D.beginPath(),isNaN(F)&&(F=0),C=o-y,t=f||m,(!t||t&&o>0)&&(D.arc(0,0,o,d,F,!1),A=v.getArcEndpointCoords(C,F),D.lineTo(A.x,A.y),D.arc(0,0,C,F,d,!0),D.closePath(),D.fill())},this.getArcEndpointCoords=function(d,e){return{x:d*Math.cos(e),y:d*Math.sin(e)}},this.deg2rad=function(d){return d*Math.PI/180},this.rad2deg=function(d){return 180*d/Math.PI},this.getTime=function(d,o){var r=Math.floor(d/1000),s=Math.floor(r/60),l=r-60*s;return o?s+":"+(10>l?"0"+l:l):{min:s,sec:l}},this.clearCanvas=function(d){var o,r,s=d,l=null;s.getContext&&(l=s.getContext("2d")),l&&(o=s.offsetWidth,r=s.offsetHeight,l.clearRect(-(o/2),-(r/2),o,r))},this.updatePlaying=function(){var d=this._360data.showHMSTime?v.getTime(this.position,!0):parseInt(this.position/1000,10),i=v.config.scaleArcWidth;this.bytesLoaded&&(this._360data.lastValues.bytesLoaded=this.bytesLoaded,this._360data.lastValues.bytesTotal=this.bytesTotal),this.position&&(this._360data.lastValues.position=this.position),this.durationEstimate&&(this._360data.lastValues.durationEstimate=this.durationEstimate),v.drawSolidArc(this._360data.oCanvas,v.config.backgroundRingColor,this._360data.width,this._360data.radius*i,v.deg2rad(p),!1),v.drawSolidArc(this._360data.oCanvas,this._360data.metadata?v.config.loadRingColorMetadata:v.config.loadRingColor,this._360data.width,this._360data.radius*i,v.deg2rad(p*(this._360data.lastValues.bytesLoaded/this._360data.lastValues.bytesTotal)),0,!0),0!==this._360data.lastValues.position&&v.drawSolidArc(this._360data.oCanvas,this._360data.metadata?v.config.playRingColorMetadata:v.config.playRingColor,this._360data.width,this._360data.radius*i,v.deg2rad(1===this._360data.didFinish?p:p*(this._360data.lastValues.position/this._360data.lastValues.durationEstimate)),0,!0),this._360data.metadata&&this._360data.metadata.events.whileplaying(),d!==this._360data.lastTime&&(this._360data.lastTime=d,this._360data.oTiming.innerHTML=d),(this.instanceOptions.useWaveformData||this.instanceOptions.useEQData)&&q&&v.updateWaveform(this),v.config.useFavIcon&&v.vuMeter&&v.vuMeter.updateVU(this)},this.updateWaveform=function(O){if(!v.config.useWaveformData&&!v.config.useEQData||!g.features.waveformData&&!g.features.eqData){return !1}if(!O.waveformData.left.length&&!O.eqData.length&&!O.peakData.left){return !1}var L,H,z,E,M,B,G,x,N,F,K,I,J,D,t,n,P=(O._360data.oCanvas.getContext("2d"),parseInt(O._360data.circleDiameter/2,10)),A=P/2;if(v.config.useWaveformData){for(E=v.config.waveformDataDownsample,E=Math.max(1,E),M=256,B=M/E,G=0,x=0,N=null,F=v.config.waveformDataOutside?1:v.config.waveformDataConstrain?0.5:0.565,A=v.config.waveformDataOutside?0.7:0.75,K=v.deg2rad(360/B*v.config.waveformDataLineRatio),L=0;M>L;L+=E){G=v.deg2rad(360*(L/B*1/E)),x=G+K,N=O.waveformData.left[L],0>N&&v.config.waveformDataConstrain&&(N=Math.abs(N)),v.drawSolidArc(O._360data.oCanvas,v.config.waveformDataColor,O._360data.width*F*(2-v.config.scaleArcWidth),O._360data.radius*A*1.25*N,x,G,!0)}}if(v.config.useEQData){for(E=v.config.eqDataDownsample,I=0,E=Math.max(1,E),J=192,B=J/E,F=v.config.eqDataOutside?1:0.565,z=v.config.eqDataOutside?-1:1,A=v.config.eqDataOutside?0.5:0.75,G=0,x=0,K=v.deg2rad(360/B*v.config.eqDataLineRatio),D=v.deg2rad(1===O._360data.didFinish?360:360*(O._360data.lastValues.position/O._360data.lastValues.durationEstimate)),H=0,t=0,L=0;J>L;L+=E){G=v.deg2rad(360*(L/J)),x=G+K,v.drawSolidArc(O._360data.oCanvas,x>D?v.config.eqDataColor:v.config.playRingColor,O._360data.width*F,O._360data.radius*A*O.eqData.left[L]*z,x,G,!0)}}if(v.config.usePeakData&&!O._360data.animating){for(n=O.peakData.left||O.peakData.right,J=3,L=0;J>L;L++){n=n||O.eqData[L]}O._360data.amplifier=v.config.useAmplifier?0.9+0.1*n:1,O._360data.radiusMax=0.175*O._360data.circleDiameter*O._360data.amplifier,O._360data.widthMax=0.4*O._360data.circleDiameter*O._360data.amplifier,O._360data.radius=parseInt(O._360data.radiusMax*O._360data.amplifier,10),O._360data.width=parseInt(O._360data.widthMax*O._360data.amplifier,10)}},this.getUIHTML=function(d){return['<canvas class="sm2-canvas" width="'+d+'" height="'+d+'"></canvas>',' <span class="sm2-360btn sm2-360btn-default"></span>',' <div class="sm2-timing'+(navigator.userAgent.match(/safari/i)?" alignTweak":"")+'"></div>',' <div class="sm2-cover"></div>']},this.uiTest=function(E){var B,y,A,G,x,C,t,z,F,D=document.createElement("div");return D.className="sm2-360ui",B=document.createElement("div"),B.className="ui360"+(E?" "+E:""),y=B.appendChild(D.cloneNode(!0)),B.style.position="absolute",B.style.left="-9999px",A=document.body.appendChild(B),G=y.offsetWidth,x=v.getUIHTML(G),y.innerHTML=x[1]+x[2]+x[3],C=parseInt(y.offsetWidth,10),t=parseInt(C/2,10),F=v.getElementsByClassName("sm2-timing","div",A)[0],z=parseInt(v.getStyle(F,"font-size"),10),isNaN(z)&&(z=null),B.parentNode.removeChild(B),x=B=y=A=null,{circleDiameter:C,circleRadius:t,fontSizeMax:z}},this.init=function(){g._writeDebug("threeSixtyPlayer.init()");var L,H,F,O,B,x,P,G,K,I,J,E,t,s,Q,A=v.getElementsByClassName("ui360","div"),z=[],n=!1,l=0;for(L=0,H=A.length;H>L;L++){z.push(A[L].getElementsByTagName("a")[0]),A[L].style.backgroundImage="none"}for(v.oUITemplate=document.createElement("div"),v.oUITemplate.className="sm2-360ui",v.oUITemplateVis=document.createElement("div"),v.oUITemplateVis.className="sm2-360ui",K=v.uiTest(),v.config.circleDiameter=K.circleDiameter,v.config.circleRadius=K.circleRadius,I=v.uiTest("ui360-vis"),v.config.fontSizeMax=I.fontSizeMax,v.oUITemplate.innerHTML=v.getUIHTML(v.config.circleDiameter).join(""),v.oUITemplateVis.innerHTML=v.getUIHTML(I.circleDiameter).join(""),L=0,H=z.length;H>L;L++){!g.canPlayLink(z[L])||v.hasClass(z[L],v.excludeClass)||v.hasClass(z[L],v.css.sDefault)||(v.addClass(z[L],v.css.sDefault),v.links[l]=z[L],v.indexByURL[z[L].href]=l,l++,n=v.hasClass(z[L].parentNode,"ui360-vis"),P=(n?I:K).circleDiameter,G=(n?I:K).circleRadius,J=z[L].parentNode.insertBefore((n?v.oUITemplateVis:v.oUITemplate).cloneNode(!0),z[L]),w&&"undefined"!=typeof b.G_vmlCanvasManager?(t=z[L].parentNode,s=document.createElement("canvas"),s.className="sm2-canvas",Q="sm2_canvas_"+L+(new Date).getTime(),s.id=Q,s.width=P,s.height=P,J.appendChild(s),b.G_vmlCanvasManager.initElement(s),O=document.getElementById(Q),F=O.parentNode.getElementsByTagName("canvas"),F.length>1&&(O=F[F.length-1])):O=z[L].parentNode.getElementsByTagName("canvas")[0],x=v.getElementsByClassName("sm2-cover","div",z[L].parentNode)[0],E=z[L].parentNode.getElementsByTagName("span")[0],v.addEventHandler(E,"click",v.buttonClick),h?v.addEventHandler(x,"touchstart",v.mouseDown):v.addEventHandler(x,"mousedown",v.mouseDown),B=O.getContext("2d"),B.translate(G,G),B.rotate(v.deg2rad(-90)))}l>0&&(v.addEventHandler(document,"click",v.handleClick),v.config.autoPlay&&v.handleClick({target:v.links[0],preventDefault:function(){}})),g._writeDebug("threeSixtyPlayer.init(): Found "+l+" relevant items."),v.config.useFavIcon&&"undefined"!=typeof this.VUMeter&&(this.vuMeter=new this.VUMeter(this))}}c.prototype.VUMeter=function(d){var g=d,j=this,k=document.getElementsByTagName("head")[0],f=navigator.userAgent.match(/opera/i),h=navigator.userAgent.match(/firefox/i);this.vuMeterData=[],this.vuDataCanvas=null,this.setPageIcon=function(i){if(!g.config.useFavIcon||!g.config.usePeakData||!i){return !1}var l=document.getElementById("sm2-favicon");l&&(k.removeChild(l),l=null),l||(l=document.createElement("link"),l.id="sm2-favicon",l.rel="shortcut icon",l.type="image/png",l.href=i,document.getElementsByTagName("head")[0].appendChild(l))},this.resetPageIcon=function(){if(!g.config.useFavIcon){return !1}var e=document.getElementById("favicon");e&&(e.href="/favicon.ico")},this.updateVU=function(e){soundManager.flashVersion>=9&&g.config.useFavIcon&&g.config.usePeakData&&j.setPageIcon(j.vuMeterData[parseInt(16*e.peakData.left,10)][parseInt(16*e.peakData.right,10)])},this.createVUData=function(){var e=0,m=0,r=j.vuDataCanvas.getContext("2d"),l=r.createLinearGradient(0,16,0,0),p=r.createLinearGradient(0,16,0,0),q="rgba(0,0,0,0.2)";for(l.addColorStop(0,"rgb(0,192,0)"),l.addColorStop(0.3,"rgb(0,255,0)"),l.addColorStop(0.625,"rgb(255,255,0)"),l.addColorStop(0.85,"rgb(255,0,0)"),p.addColorStop(0,q),p.addColorStop(1,"rgba(0,0,0,0.5)"),e=0;16>e;e++){j.vuMeterData[e]=[]}for(e=0;16>e;e++){for(m=0;16>m;m++){j.vuDataCanvas.setAttribute("width",16),j.vuDataCanvas.setAttribute("height",16),r.fillStyle=p,r.fillRect(0,0,7,15),r.fillRect(8,0,7,15),r.fillStyle=l,r.fillRect(0,15-e,7,16-(16-e)),r.fillRect(8,15-m,7,16-(16-m)),r.clearRect(0,3,16,1),r.clearRect(0,7,16,1),r.clearRect(0,11,16,1),j.vuMeterData[e][m]=j.vuDataCanvas.toDataURL("image/png")}}},this.testCanvas=function(){var i,l=document.createElement("canvas"),m=null;if(!l||"undefined"==typeof l.getContext){return null}if(m=l.getContext("2d"),!m||"function"!=typeof l.toDataURL){return null}try{i=l.toDataURL("image/png")}catch(o){return null}return l},this.init=function(){g.config.useFavIcon&&(j.vuDataCanvas=j.testCanvas(),j.vuDataCanvas&&(h||f)?j.createVUData():g.config.useFavIcon=!1)},this.init()},c.prototype.Metadata=function(f,h){soundManager._wD("Metadata()");var k,p,g=this,j=f._360data.oUI360,m=j.getElementsByTagName("ul")[0],l=m.getElementsByTagName("li");for(navigator.userAgent.match(/firefox/i),this.lastWPExec=0,this.refreshInterval=250,this.totalTime=0,this.events={whileplaying:function(){var t,w,i,v=f._360data.width,u=f._360data.radius,q=f.durationEstimate||1000*g.totalTime,a=null;for(t=0,w=g.data.length;w>t;t++){a=t%2===0,h.drawSolidArc(f._360data.oCanvas,a?h.config.segmentRingColorAlt:h.config.segmentRingColor,a?v:v,a?u/2:u/2,h.deg2rad(360*(g.data[t].endTimeMS/q)),h.deg2rad(360*((g.data[t].startTimeMS||1)/q)),!0)}i=new Date,i-g.lastWPExec>g.refreshInterval&&(g.refresh(),g.lastWPExec=i)}},this.refresh=function(){var d,q,r=null,a=f.position,o=f._360data.metadata.data;for(d=0,q=o.length;q>d;d++){if(a>=o[d].startTimeMS&&a<=o[d].endTimeMS){r=d;break}}r!==o.currentItem&&r<o.length&&(f._360data.oLink.innerHTML=o.mainTitle+' <span class="metadata"><span class="sm2_divider"> | </span><span class="sm2_metadata">'+o[r].title+"</span></span>",o.currentItem=r)},this.strToTime=function(d){var i,o=d.split(":"),q=0;for(i=o.length;i--;){q+=parseInt(o[i],10)*Math.pow(60,o.length-1-i)}return q},this.data=[],this.data.givenDuration=null,this.data.currentItem=null,this.data.mainTitle=f._360data.oLink.innerHTML,k=0;k<l.length;k++){this.data[k]={o:null,title:l[k].getElementsByTagName("p")[0].innerHTML,startTime:l[k].getElementsByTagName("span")[0].innerHTML,startSeconds:g.strToTime(l[k].getElementsByTagName("span")[0].innerHTML.replace(/[()]/g,"")),duration:0,durationMS:null,startTimeMS:null,endTimeMS:null,oNote:null}}for(p=h.getElementsByClassName("duration","div",j),this.data.givenDuration=p.length?1000*g.strToTime(p[0].innerHTML):0,k=0;k<this.data.length;k++){this.data[k].duration=parseInt(this.data[k+1]?this.data[k+1].startSeconds:(g.data.givenDuration?g.data.givenDuration:f.durationEstimate)/1000,10)-this.data[k].startSeconds,this.data[k].startTimeMS=1000*this.data[k].startSeconds,this.data[k].durationMS=1000*this.data[k].duration,this.data[k].endTimeMS=this.data[k].startTimeMS+this.data[k].durationMS,this.totalTime+=this.data[k].duration}},navigator.userAgent.match(/webkit/i)&&navigator.userAgent.match(/mobile/i)&&soundManager.setup({useHTML5Audio:!0}),soundManager.setup({html5PollingInterval:50,debugMode:b.location.href.match(/debug=1/i),consoleOnly:!0,flashVersion:9,useHighPerformance:!0,useFlashBlock:!0}),soundManager.debugMode&&b.setInterval(function(){var a=b.threeSixtyPlayer;a&&a.lastSound&&a.lastSound._360data.fps&&"undefined"==typeof b.isHome&&(soundManager._writeDebug("fps: ~"+a.lastSound._360data.fps),a.lastSound._360data.fps=0)},1000),b.ThreeSixtyPlayer=c}(window),threeSixtyPlayer=new ThreeSixtyPlayer,soundManager.onready(threeSixtyPlayer.init);